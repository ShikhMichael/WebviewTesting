<!DOCTYPE html>
<html>
<body>

<h1>WebView Messaging testing</h1>

<input type="button" value="Send Hello" onClick="sendMessageToEnvelope('Hello')" />
<input type="button" value="Send Michael" onClick="sendMessageToEnvelope('Michael')" />
<input type="button" value="Go to Google" onclick="location.href='https://google.com';" />

<script type="text/javascript">
    function sendMessageToEnvelope(message) {
        var platform = window.navigator.platform;
        if (isAndroid()) {
            AndroidWebViewInterface.sendWebMessageForEnvelope(message);
        } else if (isIos()) {
            window.webkit.messageHandlers.webMessageForEnvelope.postMessage(message);
        } else {
            console.warn("unsupported platform: " + platform);
        }
    }
    function isIos() {
        var platform = window.navigator.platform;
        return ['iPhone', 'iPad', 'iPod'].indexOf(platform) != -1;
    }
    function isAndroid() {
        var userAgent = window.navigator.userAgent;
        return /Android/.test(userAgent);
    }
</script>

</body>
</html>
