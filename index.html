<!DOCTYPE html>
<html>
<body>

<h1>WebView Messaging testing</h1>

<input type="button" value="Send Hello" onClick="sendMessageToEnvelope('Hello')" />
<input type="button" value="Send Michael" onClick="sendMessageToEnvelope('Michael')" />

<script type="text/javascript">
    function sendMessageToEnvelope(message) {
        var userAgent = window.navigator.userAgent;
        var  platform = window.navigator.platform;
        if(/Android/.test(userAgent)) {
            AndroidJSBridge.handleWebMessageForEnvelope(message);
        }
        else if(['iPhone', 'iPad', 'iPod'].indexOf(platform)!=-1){
            window.webkit.messageHandlers.webMessageForEnvelope.postMessage(message);
        }
        else {
            console.warn("unsupported platform: " + platform);
        }

    }
</script>

</body>
</html>
